<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buka Bila Perlu üí¨</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(-45deg, #006e51, #26a65b, #f4a261, #f39c12);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
            color: #fff;
            text-align: center;
            padding: 50px;
            position: relative;
            overflow: hidden;
            min-height: 100vh;
            margin: 0;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            max-width: 600px;
            margin: auto;
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(38, 166, 91, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.3);
            position: relative;
        }
        
        .batik-pattern {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path d="M25,25 Q50,0 75,25 T75,75 Q50,100 25,75 T25,25" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="2"/></svg>');
            background-size: 100px 100px;
            border-radius: 20px;
            z-index: -1;
        }

        button {
            background: linear-gradient(45deg, #006e51, #26a65b);
            border: none;
            padding: 15px 30px;
            font-size: 1.5em;
            color: white;
            border-radius: 15px;
            cursor: pointer;
            margin: 10px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 15px rgba(38, 166, 91, 0.3);
            font-family: 'Quicksand', sans-serif;
            font-weight: 600;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(38, 166, 91, 0.4);
        }

        .gif-container {
            margin-top: 20px;
            display: none;
        }

        .gif-container img {
            width: 200px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            border: 3px solid #f39c12;
        }

        .compliment {
            position: absolute;
            font-size: 1.5em;
            font-weight: bold;
            color: #fff;
            animation: fadeOut 3s ease-in-out;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            font-family: 'Quicksand', sans-serif;
        }

        h1 {
            margin-bottom: 20px;
            font-size: 2.2em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            font-family: 'Quicksand', sans-serif;
            font-weight: 700;
            letter-spacing: 1px;
            color: #ffe268;
        }

        h1::before, h1::after {
            content: "‚ùÅ";
            display: inline-block;
            margin: 0 10px;
            color: #f39c12;
            font-size: 0.8em;
        }

        p {
            font-size: 1.2em;
            margin-bottom: 15px;
            font-family: 'Quicksand', sans-serif;
            font-weight: 500;
        }

        @keyframes fadeOut {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
            100% { opacity: 0; transform: scale(1); }
        }
        
        /* Fixed styles for typewriter effect */
        .typewriter-container {
            display: none;
            margin: 40px auto;
            min-height: 150px;
            max-width: 100%;
        }
        
        .typewriter-text {
            font-family: 'Quicksand', sans-serif;
            font-size: 1.8em;
            line-height: 1.5;
            display: block;
            overflow-wrap: break-word;
            word-wrap: break-word;
            hyphens: auto;
            margin: 0 auto;
            padding: 0 15px;
            color: #fff;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.2);
            white-space: normal;
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        
        /* Style for decision buttons */
        .decision-buttons {
            display: none;
            margin-top: 30px;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
        }
        
        .yes-btn {
            background: linear-gradient(45deg, #006e51, #26a65b);
        }
        
        .no-btn {
            background: linear-gradient(45deg, #7b7b7b, #a5a5a5);
            position: relative;
            transition: all 0.2s ease;
        }
        
        /* Pop-up message */
        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .popup-content {
            background: linear-gradient(45deg, #006e51, #26a65b);
            padding: 40px;
            border-radius: 20px;
            max-width: 80%;
            text-align: center;
            font-family: 'Quicksand', sans-serif;
            font-size: 2.5em;
            font-weight: 700;
            color: white;
            box-shadow: 0 0 30px rgba(38, 166, 91, 0.7);
            animation: heartbeat 1.5s infinite;
            letter-spacing: 1px;
            border: 5px solid #f39c12;
        }
        
        /* Malaysian motifs */
        .motif {
            position: absolute;
            opacity: 0.1;
            z-index: -1;
        }
        
        .motif-1 {
            top: 10%;
            left: 5%;
            width: 100px;
            height: 100px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50,10 L90,50 L50,90 L10,50 Z" stroke="white" fill="none" stroke-width="2"/></svg>');
            animation: rotate 30s linear infinite;
        }
        
        .motif-2 {
            bottom: 10%;
            right: 5%;
            width: 120px;
            height: 120px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M20,20 Q50,10 80,20 Q90,50 80,80 Q50,90 20,80 Q10,50 20,20 Z" stroke="white" fill="none" stroke-width="2"/></svg>');
            animation: rotate 25s linear infinite reverse;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            25% { transform: scale(1.05); }
            50% { transform: scale(1); }
            75% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @media screen and (max-width: 600px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            
            button {
                padding: 12px 24px;
                font-size: 1.2em;
            }
            
            .typewriter-text {
                font-size: 1.5em;
            }
            
            .popup-content {
                font-size: 2em;
                padding: 30px;
            }
            
            .decision-buttons {
                gap: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="motif motif-1"></div>
    <div class="motif motif-2"></div>
    
    <div class="container">
        <div class="batik-pattern"></div>
        <h1>Untuk Yang Teristimewa üí¨</h1>
        <p>Tekan button untuk suprise! üíñ</p>
        <button onclick="confirmCompliment()">üí¨ Tekan sini 10 kali jeüí¨</button>
        <button id="reveal-button" onclick="showTypewriter()" style="display: none;">üíå Mesej untuk yang teristimewa üíå</button>
        
        <div id="typewriter-container" class="typewriter-container">
            <div id="typewriter-text" class="typewriter-text"></div>
            
            <div id="decision-buttons" class="decision-buttons">
                <button class="yes-btn" onclick="showLoveMessage()">Ya</button>
                <button id="no-button" class="no-btn" onmouseover="moveButton()">Tidak</button>
            </div>
        </div>

        <div id="gif-container" class="gif-container">
            <img id="compliment-gif" src="" alt="Cute GIF">
        </div>
    </div>
    
    <div id="love-popup" class="popup">
        <div class="popup-content">
            Saya Cintakan Awak! ‚ù§Ô∏è
        </div>
    </div>

    <script>
        const compliments = [
            "Awak comel lah!",
            "Hai, cantik!",
            "Sihat selalu si cantik!",
            "Awak paling cantik!",
            "Memang comel!",
            "Orang paling sweet!",
            "Kenapa cantik sangat",
            "Senyuman anggun!",
            "Tanpa kamu hari saya tidak sempurna!",
            "Senyum selalu ya cantik!"
        ];

        const gifLinks = [
            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTSwn1LN2dDPIyAOoELAnegCHrnVDKGNAH24g&s",
            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSYfmgVgMnkj3A-27bflsY9w-7Q3H9zL9ZvJA&s",
            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQn1AKMAsC0tJfTSWSxLvPx5NigXOhzvo_yQJqWdxA73wkPxGwjFt0on9oES7TxQ31bNyA&usqp=CAU",
            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQPKQ3ARn9d9Ruf0q1yTcSXGyJS34Dp5hOoBLEfPv2YVteHJjEj6QL-0yamypYAkzF__k0&usqp=CAU"
        ];

        let complimentCount = 0;
        let firstClick = true;

        function confirmCompliment() {
            if(firstClick) {
                if (confirm("Betul ke ni? üíñ")) {
                    if(confirm("Yakin ke ni?")) {
                        if(confirm("Betul eh?")) {
                            firstClick = false;
                            showCompliment();
                        }
                    }
                }
            } else {
                showCompliment();
            }
        }

        function showCompliment() {
            const randomCompliment = compliments[Math.floor(Math.random() * compliments.length)];
            const complimentElement = document.createElement("p");
            complimentElement.textContent = randomCompliment;
            complimentElement.classList.add("compliment");
            
            const x = Math.random() * (window.innerWidth - 200);
            const y = Math.random() * (window.innerHeight - 100);
            complimentElement.style.left = `${x}px`;
            complimentElement.style.top = `${y}px`;
            
            document.body.appendChild(complimentElement);
            setTimeout(() => complimentElement.remove(), 3000);
            
            const randomGif = gifLinks[Math.floor(Math.random() * gifLinks.length)];
            document.getElementById("compliment-gif").src = randomGif;
            document.getElementById("gif-container").style.display = "block";
            
            complimentCount++;
            if (complimentCount >= 10) {
                document.getElementById("reveal-button").style.display = "inline-block";
            }
        }

        // Modified typewriter effect function for proper text wrapping
        function typeWriter(text, i, fnCallback) {
            if (i < text.length) {
                document.getElementById("typewriter-text").innerHTML = text.substring(0, i+1) + '<span aria-hidden="true"></span>';
                
                // Set delay between each character
                setTimeout(function() {
                    typeWriter(text, i + 1, fnCallback)
                }, 100);
            } else if (typeof fnCallback == 'function') {
                setTimeout(fnCallback, 700);
            }
        }
        
        function showTypewriter() {
            document.getElementById("typewriter-container").style.display = "block";
            // Hide the buttons
            document.getElementById("reveal-button").style.display = "none";
            
            // Start typewriter with message
            const text = "Kau seperti senja, indah tapi tak tergapai. Namun, jika hatimu sudi, biar aku jadi malam yang setia menemani. Maukah kau menerima hatiku?";
            typeWriter(text, 0, function() {
                // After typing is complete, show the buttons
                document.getElementById("decision-buttons").style.display = "flex";
            });
        }
        
        // Move the No button randomly when hovered
        function moveButton() {
            const noButton = document.getElementById("no-button");
            const buttonWidth = noButton.offsetWidth;
            const buttonHeight = noButton.offsetHeight;
            
            // Calculate maximum possible positions while keeping button visible
            const maxX = window.innerWidth - buttonWidth - 20;
            const maxY = window.innerHeight - buttonHeight - 20;
            
            // Generate random position
            const randomX = Math.max(10, Math.floor(Math.random() * maxX));
            const randomY = Math.max(10, Math.floor(Math.random() * maxY));
            
            // Apply new position
            noButton.style.position = "fixed";
            noButton.style.left = randomX + "px";
            noButton.style.top = randomY + "px";
        }
        
        // Show love message popup
        function showLoveMessage() {
            const popup = document.getElementById("love-popup");
            popup.style.display = "flex";
            
            // Add click event to close popup
            popup.addEventListener("click", function() {
                popup.style.display = "none";
            });
        }
    </script>
</body>
</html>