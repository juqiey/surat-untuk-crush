<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buka Bila Perlu üí¨</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css" media="all">
</head>
<body>
    <div class="motif motif-1"></div>
    <div class="motif motif-2"></div>
    
    <div class="container">
        <div class="batik-pattern"></div>
        <h1>Untuk Yang Teristimewa üí¨</h1>
        <p>Tekan button untuk suprise! üíñ</p>
        <button onclick="confirmCompliment()">üí¨ Tekan sini 10 kali jeüí¨</button>
        <button id="reveal-button" onclick="showTypewriter()" style="display: none;">üíå Mesej untuk yang teristimewa üíå</button>
        
        <div id="typewriter-container" class="typewriter-container">
            <div id="typewriter-text" class="typewriter-text"></div>
            
            <div id="love-message" class="love-message"></div>
            
            <div id="decision-buttons" class="decision-buttons">
                <button class="yes-btn" onclick="showLoveMessage()">Ya</button>
                <button id="no-button" class="no-btn" onmouseover="moveButton()">Tidak</button>
            </div>
        </div>

        <div id="gif-container" class="gif-container">
            <img id="compliment-gif" src="" alt="Cute GIF">
        </div>
    </div>
    
    <div id="love-popup" class="popup">
        <div class="popup-content">
            Saya Cintakan Awak! ‚ù§Ô∏è
            <div style="font-size: 0.5em; margin-top: 20px;">Kau adalah bintang yang menerangi gelapku</div>
        </div>
    </div>
    
    <script>
        const compliments = [
            "Awak comel lah!",
            "Hai, cantik!",
            "Sihat selalu si cantik!",
            "Awak paling cantik!",
            "Memang comel!",
            "Orang paling sweet!",
            "Kenapa cantik sangat",
            "Senyuman anggun!",
            "Tanpa kamu hari saya tidak sempurna!",
            "Senyum selalu ya cantik!",
            "Awak seperti bulan, sentiasa menyinari hati saya",
            "Cantik melebihi bunga di taman",
            "Senyuman awak, ubat bagi hati saya",
            "Terima kasih kerana hadir dalam hidup saya",
            "Indahnya mata awak seperti bintang di langit"
        ];

        const gifLinks = [
            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTSwn1LN2dDPIyAOoELAnegCHrnVDKGNAH24g&s",
            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSYfmgVgMnkj3A-27bflsY9w-7Q3H9zL9ZvJA&s",
            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQn1AKMAsC0tJfTSWSxLvPx5NigXOhzvo_yQJqWdxA73wkPxGwjFt0on9oES7TxQ31bNyA&usqp=CAU",
            "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQPKQ3ARn9d9Ruf0q1yTcSXGyJS34Dp5hOoBLEfPv2YVteHJjEj6QL-0yamypYAkzF__k0&usqp=CAU"
        ];
        
        const loveMessages = [
            "Cinta itu seperti angin, tidak dapat dilihat tetapi dapat dirasakan.",
            "Dalam hatimu, aku menemukan rumahku.",
            "Kamu adalah impian yang menjadi nyata dalam hidupku.",
            "Setiap detik bersamamu adalah hadiah yang tak ternilai.",
            "Aku cinta kamu seperti ombak mencintai pantai, selalu kembali walau berulang kali."
        ];

        let complimentCount = 0;
        let firstClick = true;
        let musicPlaying = false;
        
        window.onload = function() {
            // Add hearts animation on load
            createHearts();
        };

        function confirmCompliment() {
            if(firstClick) {
                if (confirm("Betul ke ni? üíñ")) {
                    if(confirm("Yakin ke ni?")) {
                        if(confirm("Betul eh?")) {
                            firstClick = false;
                            showCompliment();
                        }
                    }
                }
            } else {
                showCompliment();
            }
        }

        function showCompliment() {
            const randomCompliment = compliments[Math.floor(Math.random() * compliments.length)];
            const complimentElement = document.createElement("p");
            complimentElement.textContent = randomCompliment;
            complimentElement.classList.add("compliment");
            
            // Make sure compliments appear in viewport on mobile
            const maxWidth = window.innerWidth - 100;
            const maxHeight = window.innerHeight - 100;
            const x = Math.random() * maxWidth;
            const y = Math.random() * maxHeight;
            complimentElement.style.left = `${x}px`;
            complimentElement.style.top = `${y}px`;
            
            document.body.appendChild(complimentElement);
            setTimeout(() => complimentElement.remove(), 3000);
            
            const randomGif = gifLinks[Math.floor(Math.random() * gifLinks.length)];
            document.getElementById("compliment-gif").src = randomGif;
            document.getElementById("gif-container").style.display = "block";
            
            complimentCount++;
            if (complimentCount >= 10) {
                document.getElementById("reveal-button").style.display = "inline-block";
            }
        }

        function typeWriter(text, i, fnCallback) {
            if (i < text.length) {
                document.getElementById("typewriter-text").innerHTML = text.substring(0, i+1) + '<span aria-hidden="true"></span>';
                
                // Set delay between each character
                setTimeout(function() {
                    typeWriter(text, i + 1, fnCallback)
                }, 100);
            } else if (typeof fnCallback == 'function') {
                setTimeout(fnCallback, 700);
            }
        }
        
        function showTypewriter() {
            document.getElementById("typewriter-container").style.display = "block";
            // Hide the buttons
            document.getElementById("reveal-button").style.display = "none";
            
            // Start typewriter with message
            const text = "Renjana, takkan ku lepaskan mu melainkan takdir yang memisahkan kita";
            typeWriter(text, 0, function() {
                // After typing is complete, show a love message and buttons
                showLoveQuote();
                document.getElementById("decision-buttons").style.display = "flex";
            });
        }
        
        function showLoveQuote() {
            const loveMessageEl = document.getElementById("love-message");
            const randomMessage = loveMessages[Math.floor(Math.random() * loveMessages.length)];
            loveMessageEl.textContent = randomMessage;
            loveMessageEl.style.display = "block";
        }
        
        // Move the No button randomly when hovered
        function moveButton() {
            const noButton = document.getElementById("no-button");
            const buttonWidth = noButton.offsetWidth;
            const buttonHeight = noButton.offsetHeight;
            
            // Calculate maximum possible positions while keeping button visible
            const maxX = window.innerWidth - buttonWidth - 20;
            const maxY = window.innerHeight - buttonHeight - 20;
            
            // Generate random position
            const randomX = Math.max(10, Math.floor(Math.random() * maxX));
            const randomY = Math.max(10, Math.floor(Math.random() * maxY));
            
            // Apply new position
            noButton.style.position = "fixed";
            noButton.style.left = randomX + "px";
            noButton.style.top = randomY + "px";
        }
        
        // Show love message popup with confetti effect
        function showLoveMessage() {
            createConfetti();
            const popup = document.getElementById("love-popup");
            popup.style.display = "flex";
            
            // Play music if not already playing
            if (!musicPlaying) {
                toggleMusic();
            }
            
            // Add click event to close popup
            popup.addEventListener("click", function() {
                popup.style.display = "none";
            });
        }
        
        // Create falling hearts
        function createHearts() {
            const heartCount = 20;
            const heartSymbols = ["‚ù§Ô∏è", "üíñ", "üíï", "üíì", "üíó"];
            
            for (let i = 0; i < heartCount; i++) {
                setTimeout(() => {
                    const heart = document.createElement("div");
                    heart.classList.add("heart");
                    heart.textContent = heartSymbols[Math.floor(Math.random() * heartSymbols.length)];
                    
                    // Random position and animation duration
                    const leftPos = Math.random() * 100;
                    const animDuration = 5 + Math.random() * 10;
                    
                    heart.style.left = `${leftPos}%`;
                    heart.style.animationDuration = `${animDuration}s`;
                    
                    document.body.appendChild(heart);
                    
                    // Remove heart after animation
                    setTimeout(() => {
                        heart.remove();
                    }, animDuration * 1000);
                }, i * 500); // Staggered creation
            }
            
            // Create hearts periodically
            setTimeout(createHearts, 15000);
        }
        
        // Create confetti effect
        function createConfetti() {
            const confettiCount = 200;
            const colors = ["#f39c12", "#ffe268", "#26a65b", "#e74c3c", "#3498db", "#9b59b6"];
            
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement("div");
                confetti.classList.add("confetti");
                
                // Random position, size, color and rotation
                const leftPos = Math.random() * 100;
                const width = 5 + Math.random() * 10;
                const height = 5 + Math.random() * 10;
                const color = colors[Math.floor(Math.random() * colors.length)];
                const rotation = Math.random() * 360;
                
                confetti.style.left = `${leftPos}%`;
                confetti.style.width = `${width}px`;
                confetti.style.height = `${height}px`;
                confetti.style.backgroundColor = color;
                confetti.style.transform = `rotate(${rotation}deg)`;
                
                // Random animation
                const animDuration = 2 + Math.random() * 4;
                confetti.style.animation = `falling ${animDuration}s linear forwards`;
                
                document.body.appendChild(confetti);
                
                // Remove confetti after animation
                setTimeout(() => {
                    confetti.remove();
                }, animDuration * 1000);
            }
        }
        
    </script>
</body>
</html>